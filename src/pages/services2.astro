---
import Layout from '../layouts/Layout.astro';
import { Image } from 'astro:assets';

// ALL IMAGES IMPORTED in one place
// Hero Ticker Images
import tedImageTicker from '../assets/images/Events/ted30/12.jpg';
import igsImageTicker from '../assets/images/Events/igs1/9.jpg';
import sxdImageTicker from '../assets/images/Events/sxd/tools-image.png';
import vrargsImageTicker from '../assets/images/Events/vrargs2019/5.jpg';

// Logo Ticker Images
import accentureLogo from '../assets/images/corplogos25/svg/white/accenture-white.svg';
import adobeLogo from '../assets/images/corplogos25/svg/white/adobe-white.svg';
import awsLogo from '../assets/images/corplogos25/svg/white/Amazon_Web_Services_Logo-white.svg';
import amdLogo from '../assets/images/corplogos25/svg/white/AMD_Logo-white.svg';
import metaLogo from '../assets/images/corplogos25/svg/white/meta-white.svg';
import ibmLogo from '../assets/images/corplogos25/svg/white/IBM_logo-white.svg';

// Accordion Images
import serviceImg1 from '../assets/images/Events/ted30/1.jpg';
import serviceImg2 from '../assets/images/Events/vrargs2019/5.jpg';
import serviceImg3 from '../assets/images/Events/igs1/serv1.png';
import serviceImg4 from '../assets/images/events/TED30/33.jpg';
import serviceImg5 from '../assets/images/Events/igs1/igs33.jpeg';
import serviceImg6 from '../assets/images/Events/igs1/9.jpg';
import serviceImg7 from '../assets/images/Events/sponsors/sponsorwall.png';


const imageTickerImages = [tedImageTicker, igsImageTicker, sxdImageTicker, vrargsImageTicker, tedImageTicker, igsImageTicker, sxdImageTicker, vrargsImageTicker];
const logoTickerLogos = [accentureLogo, adobeLogo, awsLogo, amdLogo, metaLogo, ibmLogo, accentureLogo, adobeLogo, awsLogo, amdLogo, metaLogo, ibmLogo];
---

<Layout 
  title="Services | Pulledin"
  metaDescription="Expert conference and trade event producers reimagining what an event production company can be."
>
  <style is:global>
    body {
        background-color: var(--primary);
    }
  </style>
  <style>
    .services-wrapper {
        position: relative;
    }

    .services-hero {
        height: 100vh;
        width: 100%;
        display: flex;
        flex-direction: column;
        justify-content: flex-end; /* Align content towards the bottom */
        align-items: center;
        padding: 2rem;
        background-color: var(--primary);
        color: var(--white);
        position: sticky;
        top: 0;
        z-index: 1;
    }
    .hero-center-content {
        text-align: left;
        z-index: 2;
        width: 100%;
        max-width: 1200px; /* Control max width of content */
        margin-bottom: 15vh; /* Push content up from the bottom */
        padding: 0 2rem;
    }
    .hero-headline {
        font-family: var(--font-headline);
        font-size: clamp(2.2rem, 5vw, 4rem);
        line-height: 1.25;
        max-width: 25ch;
        font-weight: 500; /* Thinner font weight */
        /* This hides the text initially before the animation runs */
        opacity: 0;
    }
    .hero-headline .word {
        display: inline-block;
        overflow: hidden;
        line-height: 1.25;
    }
    .hero-headline .word-inner {
        display: inline-block;
        transform: translateY(100%);
    }

    .cta-button {
        display: inline-block;
        font-family: var(--font-headline);
        font-size: 1.1rem;
        color: var(--primary);
        background-color: var(--white);
        padding: 0.8rem 2rem;
        border-radius: 50px;
        text-decoration: none;
        transition: transform 0.3s ease;
        margin-top: 2rem;
        /* Hide the button initially */
        opacity: 0;
        transform: translateY(20px);
    }
    .cta-button:hover {
        transform: scale(1.05);
    }

    .ticker-container {
        position: absolute;
        left: 0;
        width: 100%;
        overflow: hidden;
        mask-image: linear-gradient(to right, transparent, white 10%, white 90%, transparent);
    }
    .image-ticker {
        top: 0;
        padding-top: 2rem;
    }
    .logo-ticker {
        bottom: 0;
        padding-bottom: 2rem;
    }
    .ticker-track {
        display: flex;
        width: fit-content;
    }
    .image-ticker .ticker-track {
        animation: ticker-rtl 80s linear infinite;
    }
    .logo-ticker .ticker-track {
        animation: ticker-ltr 80s linear infinite;
    }
    .ticker-item {
        flex-shrink: 0;
        margin: 0 1rem;
    }
    .ticker-image {
        height: 150px;
        width: auto;
        border-radius: 16px;
        box-shadow: 0 10px 20px rgba(0,0,0,0.1);
    }
    .ticker-logo {
        height: 40px;
        width: auto;
        max-width: 150px;
        object-fit: contain;
    }

    @keyframes ticker-rtl {
        from { transform: translateX(0); }
        to { transform: translateX(-50%); }
    }
    @keyframes ticker-ltr {
        from { transform: translateX(-50%); }
        to { transform: translateX(0); }
    }
    
    .scroll-hint-container {
        position: absolute;
        bottom: 2rem;
        left: 50%;
        transform: translateX(-50%);
        z-index: 5;
        color: var(--white);
    }
    .mousey {
      width: 3px; padding: 10px 15px; height: 35px;
      border: 2px solid var(--white); border-radius: 25px;
    }
    .scroller {
      width: 3px; height: 10px; border-radius: 25%;
      background-color: var(--white);
      animation: scroll 2.2s cubic-bezier(.15,.41,.69,.94) infinite;
    }
    @keyframes scroll {
      0% { opacity: 0; }
      10% { transform: translateY(0); opacity: 1; }
      100% { transform: translateY(15px); opacity: 0;}
    }

    /* Accordion Section Styles */
    .services-content-section {
        background-color: var(--background);
        color: var(--primary);
        position: relative;
        z-index: 2;
        border-top-left-radius: 40px;
        border-top-right-radius: 40px;
        overflow: hidden;
    }
    .services-intro {
        max-width: none;
        width: 100%;
        padding: 8rem 5vw 6rem;
        text-align: left;
    }
    .services-intro h2 {
        font-family: var(--font-headline);
        font-size: clamp(2.5rem, 5vw, 4rem);
        margin-bottom: 1.5rem;
    }
    .services-intro p {
        font-family: var(--font-body);
        font-size: 1.2rem;
        line-height: 1.7;
        max-width: 65ch;
    }
    .services-accordion {
        width: 100%;
        padding: 0 5vw 12rem;
    }
    .service-item {
        padding: 2.5rem 0;
        border-bottom: 1px solid rgba(0,0,0,0.2);
        cursor: pointer;
    }
    .service-item-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: 2rem;
    }
    .service-item-title {
        font-family: var(--font-headline);
        font-size: 2.4rem;
        line-height: 1.1;
        flex-grow: 1;
    }
    .service-item-icon {
        font-family: var(--font-inconsolata);
        font-size: 2rem;
        transition: transform 0.5s ease;
    }
    .service-item.is-open .service-item-icon {
        transform: rotate(45deg);
    }
    .service-item-content {
        overflow: hidden;
        display: none;
    }
    .service-item.is-open .service-item-content {
        display: block;
    }
    .service-item-content-inner {
        padding: 3rem 0 1rem;
    }
     .service-image-container {
        display: flex;
        align-items: center;
        justify-content: center;
        margin-bottom: 2.5rem;
    }
    .service-image {
        width: 100%;
        max-width: 450px;
        aspect-ratio: 4 / 5;
        overflow: hidden;
    }
    .service-image :global(img) {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }
    .service-image-meta {
        font-family: var(--font-space-mono);
        font-size: 12px;
        text-transform: uppercase;
        writing-mode: vertical-rl;
        padding: 1rem;
        letter-spacing: 0.1em;
        opacity: 0.6;
    }
    .meta-left { transform: rotate(180deg); }
    .service-description {
        max-width: 700px;
        margin: 0 auto;
        text-align: center;
    }
    .service-description h3 {
        font-family: var(--font-headline);
        font-size: 1.75rem;
        margin-bottom: 1rem;
    }
    .service-description p {
        font-size: 1.2rem;
        line-height: 1.7;
        margin-bottom: 1rem;
    }

    @media (max-width: 768px) {
        .image-ticker {
            display: none;
        }
        .hero-center-content {
            padding: 0 1rem;
            justify-content: center;
            margin-bottom: 0;
        }
        .services-accordion {
            padding: 0 2rem 12rem;
        }
        .services-intro {
            padding: 8rem 2rem 4rem;
        }
    }
  </style>

  <main>
    <div class="services-wrapper">
        <section class="services-hero">
            <div class="ticker-container image-ticker">
                <div class="ticker-track">
                    {imageTickerImages.map(img => (
                        <div class="ticker-item">
                            <Image src={img} alt="Past event photo" class="ticker-image" />
                        </div>
                    ))}
                </div>
            </div>

            <div class="hero-center-content">
                <h1 class="hero-headline" id="hero-headline">We are expert conference and trade event producers that have reimagined what an event production company can (and should) be.</h1>
                <a href="YOUR_GOOGLE_CALENDAR_LINK_HERE" target="_blank" class="cta-button">Schedule a Call</a>
            </div>

            <div class="ticker-container logo-ticker">
                <div class="ticker-track">
                    {logoTickerLogos.map(logo => (
                        <div class="ticker-item">
                            <img src={logo.src} alt="Partner Logo" class="ticker-logo" />
                        </div>
                    ))}
                </div>
            </div>

            <div class="scroll-hint-container">
                <div class="mousey">
                    <div class="scroller"></div>
                </div>
            </div>
        </section>

        <section class="services-content-section">
            <div class="services-intro">
                <h2>Our Services</h2>
                <p>We produce, curate, and execute events that drive technology, education, and life. We make strategic partnerships valuable. We help future leaders connect and help highlight amazing opportunities to new people.</p>
            </div>

            <div class="services-accordion">
                <div class="service-item">
                    <div class="service-item-header">
                        <span class="service-item-title">Executive Production & Curation</span>
                        <span class="service-item-icon">+</span>
                    </div>
                    <div class="service-item-content">
                         <div class="service-item-content-inner">
                            <div class="service-image-container">
                                <div class="service-image-meta meta-left"><span>Production</span></div>
                                <div class="service-image"><Image src={serviceImg1} alt="Executive Production"/></div>
                                <div class="service-image-meta meta-right"><span>PULLEDIN 2025</span></div>
                            </div>
                            <div class="service-description">
                                <h3>We build icons.</h3>
                                <p>We serve as your high-level strategic partners, embedding with your leadership to shape the event's core vision. This goes beyond management to include narrative development, curating world-class speakers and content, and guiding the project's soul from the first concept meeting to the final standing ovation. We handle the complexity so you can focus on the message.</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="service-item">
                    <div class="service-item-header">
                        <span class="service-item-title">Event Strategy & Format Design</span>
                        <span class="service-item-icon">+</span>
                    </div>
                    <div class="service-item-content">
                        <div class="service-item-content-inner">
                            <div class="service-image-container">
                                <div class="service-image-meta meta-left"><span>Strategy</span></div>
                                <div class="service-image"><Image src={serviceImg2} alt="Event Strategy"/></div>
                                <div class="service-image-meta meta-right"><span>PULLEDIN 2025</span></div>
                            </div>
                            <div class="service-description">
                                <h3>Format is EVERYTHING.</h3>
                                <p>We work with you to design innovative and future-proof event formats that build culture and captivate your specific audience with an attention to market needs, event flow, content possibilities, and partnership growth opportunities. Whether you're looking to launch a new global summit, foster an intimate developer community, or revolutionize an industry conference, we define the 'why' and the 'how' to ensure your event is built to build a legacy.</p>
                            </div>
                        </div>
                    </div>
                </div>
                 <div class="service-item">
                    <div class="service-item-header">
                        <span class="service-item-title">Event Technology Consulting (AI & XR)</span>
                        <span class="service-item-icon">+</span>
                    </div>
                    <div class="service-item-content">
                        <div class="service-item-content-inner">
                            <div class="service-image-container">
                                <div class="service-image-meta meta-left"><span>Technology</span></div>
                                <div class="service-image"><Image src={serviceImg3} alt="Tech Consulting"/></div>
                                <div class="service-image-meta meta-right"><span>PULLEDIN 2025</span></div>
                            </div>
                            <div class="service-description">
                                <h3>We are fluent in the language of the future.</h3>
                                <p>Unlike producers who bolt on technology as an afterthought, we infuse AI and Extended Reality (XR) into the very fabric of your event. We’ve been producing the world’s most important XR events for a while so we aren’t guessing - we are world-renowned experts in the space. With AI-aided production we can efficiently accelerate, iterate, and grow events. We share our professional knowledge through global speaking engagements and consulting production teams in person. Don’t get stressed - get ready to accelerate and elevate in ways that will inspire you to produce more!</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="service-item">
                    <div class="service-item-header">
                        <span class="service-item-title">Speaker & Content Programming</span>
                        <span class="service-item-icon">+</span>
                    </div>
                    <div class="service-item-content">
                        <div class="service-item-content-inner">
                            <div class="service-image-container">
                                <div class="service-image-meta meta-left"><span>Content</span></div>
                                <div class="service-image"><Image src={serviceImg4} alt="Content Programming"/></div>
                                <div class="service-image-meta meta-right"><span>PULLEDIN 2025</span></div>
                            </div>
                            <div class="service-description">
                                <h3>The heart of any great event is its content.</h3>
                                <p>With decades of experience working with global leaders, from Prime Ministers to Fortune 500 CEOs and tech pioneers, we have an unparalleled network. We manage the entire process of curating, securing, and onboarding speakers who will not only draw a crowd but deliver your message with authority and impact.</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="service-item">
                    <div class="service-item-header">
                        <span class="service-item-title">Virtual & Hybrid Event Production</span>
                        <span class="service-item-icon">+</span>
                    </div>
                    <div class="service-item-content">
                        <div class="service-item-content-inner">
                            <div class="service-image-container">
                                <div class="service-image-meta meta-left"><span>Virtual</span></div>
                                <div class="service-image"><Image src={serviceImg5} alt="Virtual Events"/></div>
                                <div class="service-image-meta meta-right"><span>PULLEDIN 2025</span></div>
                            </div>
                            <div class="service-description">
                                <h3>We are world-class experts in virtual experiences.</h3>
                                <p>Having pivoted a 2,500-person physical event into a 14,000-attendee global virtual summit in under three months, we understand the unique challenges of the digital stage. From multi-track conferences on Zoom to fully immersive events in VR, we keep teams focused, on-budget, and highly effective, no matter the platform.</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="service-item">
                    <div class="service-item-header">
                        <span class="service-item-title">Full-Scale Event Management</span>
                        <span class="service-item-icon">+</span>
                    </div>
                    <div class="service-item-content">
                        <div class="service-item-content-inner">
                            <div class="service-image-container">
                                <div class="service-image-meta meta-left"><span>Management</span></div>
                                <div class="service-image"><Image src={serviceImg6} alt="Event Management"/></div>
                                <div class="service-image-meta meta-right"><span>PULLEDIN 2025</span></div>
                            </div>
                            <div class="service-description">
                                <h3>This is our comprehensive, end-to-end solution.</h3>
                                <p>Ready to ditch those tedious "process-driven"/PMP-time-wasters and join the event production revolution with us? We get HUGE things done with a tiny team because we employ tech to quickly solve problems - we are definitely not like the rest and proud of it.  We take on the complete operational workload, managing every logistical detail with precision and agility. This includes vendor negotiation, platform management, marketing and community strategy, and on-site (or virtual) execution. We are the engine that ensures a flawless and stress-free experience for you and your attendees.</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="service-item">
                    <div class="service-item-header">
                        <span class="service-item-title">Partnerships</span>
                        <span class="service-item-icon">+</span>
                    </div>
                    <div class="service-item-content">
                        <div class="service-item-content-inner">
                            <div class="service-image-container">
                                <div class="service-image-meta meta-left"><span>Partnerships</span></div>
                                <div class="service-image"><Image src={serviceImg7} alt="Partnerships"/></div>
                                <div class="service-image-meta meta-right"><span>PULLEDIN 2025</span></div>
                            </div>
                            <div class="service-description">
                                <h3>We have made thousands of partnerships come to life.</h3>
                                <p>Our approach is built on bringing incredible audiences that fit partner needs, so we are selective about what we can represent. Let’s talk.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>
  </main>

  <script is:inline>
    document.addEventListener('DOMContentLoaded', function() {
        if (typeof gsap === 'undefined' || typeof Flip === 'undefined') { return; }
        gsap.registerPlugin(ScrollTrigger, Flip);

        // --- Elegant Headline Reveal ---
        const headline = document.getElementById('hero-headline');
        if (headline) {
            const text = headline.textContent.trim();
            headline.innerHTML = ''; // Clear original text
            text.split(' ').forEach(word => {
                const wordSpan = document.createElement('span');
                wordSpan.className = 'word';
                wordSpan.style.display = 'inline-block';
                const wordInner = document.createElement('span');
                wordInner.className = 'word-inner';
                wordInner.textContent = word;
                wordInner.style.display = 'inline-block';
                wordInner.style.transform = 'translateY(100%)';
                wordSpan.appendChild(wordInner);
                headline.appendChild(wordSpan);
                headline.append(' ');
            });
            
            // This is the key fix: Listen for the global 'loaderAnimationComplete' event
            document.addEventListener('loaderAnimationComplete', () => {
                 gsap.timeline()
                    .to(headline, { opacity: 1, duration: 0.1 })
                    .to(headline.querySelectorAll('.word-inner'), {
                        y: '0%',
                        stagger: 0.05,
                        duration: 1.2,
                        ease: 'expo.out',
                    })
                    .to('.cta-button', {
                        opacity: 1,
                        y: 0,
                        duration: 0.8,
                        ease: 'power2.out'
                    }, "-=0.8");
            });
        }
        
        // --- Color Change & Scaling Scroll ---
        const contentSection = document.querySelector('.services-content-section');
        const servicesWrapper = document.querySelector('.services-wrapper');

        if (contentSection && servicesWrapper) {
            gsap.set(contentSection, { scale: 0.9, borderRadius: '40px' });
            
            ScrollTrigger.create({
                trigger: servicesWrapper,
                start: "top top",
                end: "bottom bottom",
                scrub: true,
                onUpdate: self => {
                    const progress = self.progress;
                    const primaryColor = getComputedStyle(document.documentElement).getPropertyValue('--primary').trim();
                    const backgroundColor = getComputedStyle(document.documentElement).getPropertyValue('--background').trim();
                    
                    document.body.style.backgroundColor = gsap.utils.interpolate(primaryColor, backgroundColor)(progress);
                }
            });

            gsap.to(contentSection, {
                scale: 1,
                borderRadius: '0px',
                ease: 'none',
                scrollTrigger: {
                    trigger: servicesWrapper,
                    start: "top top",
                    end: "50% bottom",
                    scrub: true,
                }
            });
        }

        // --- Accordion Logic ---
        const items = gsap.utils.toArray('.service-item');
        items.forEach(item => {
            item.addEventListener('click', () => {
                const state = Flip.getState(items);
                const isOpen = item.classList.contains('is-open');
                if (isOpen) {
                    item.classList.remove('is-open');
                } else {
                    items.forEach(i => i.classList.remove('is-open'));
                    item.classList.add('is-open');
                }
                Flip.from(state, {
                    duration: 0.8,
                    ease: "elastic.out(1, 0.75)",
                    onComplete: () => ScrollTrigger.refresh()
                });
            });
        });

        // --- Ticker Logic ---
        function setupTicker(containerSelector, duration, isReversed = false) {
            const container = document.querySelector(containerSelector);
            if (!container) return;
            const track = container.querySelector('.ticker-track');
            const trackItems = gsap.utils.toArray(track.children);
            if (trackItems.length === 0) return;

            const totalWidth = trackItems.reduce((acc, item) => acc + item.offsetWidth + parseInt(getComputedStyle(item).marginRight || 0), 0);
            
            const cloneCount = Math.ceil(window.innerWidth / totalWidth) + 2;
            for(let i = 0; i < cloneCount; i++) {
                trackItems.forEach(item => track.appendChild(item.cloneNode(true)));
            }

            const xTo = -totalWidth;
            const tween = gsap.to(track, {
                x: xTo,
                duration: duration,
                ease: 'none',
                repeat: -1,
                modifiers: {
                    x: gsap.utils.unitize(x => parseFloat(x) % totalWidth)
                }
            });
            
            if (isReversed) {
                gsap.set(track, {x: xTo});
                tween.reverse();
            }

            container.addEventListener('mouseenter', () => gsap.to(tween, {timeScale: 0.2, duration: 0.5}));
            container.addEventListener('mouseleave', () => gsap.to(tween, {timeScale: 1, duration: 0.5}));
        }

        setupTicker('.image-ticker', 80, false);
        setupTicker('.logo-ticker', 80, true);
    });
  </script>
</Layout>
---
// This is a special version of the header with NO SCRIPT.
// It is used only on pages with ScrollSmoother to prevent conflicts.
---
<header class="site-header">
    <a href="/" class="header-logo" style="text-decoration: none; color: inherit;">
        <span class="logo-name">PULLEDIN</span>
        <div class="logo-year-wrapper">
            <span class="logo-year logo-year--default">© 2025</span>
            <span class="logo-year logo-year--hover">EST. 2008</span>
        </div>
    </a>
</header>
<div class="menu-toggle-btn">
    <span class="menu-text">MENU</span>
</div>
<div class="menu-overlay">
    <div class="menu-overlay-panel menu-left">
        <a href="/" class="menu-logo-container">
            <svg viewBox="0 0 1000 250">
                <path class="pulledin-logo-path" d="M118.2,76.4c-6.4-6.3-13.7-11.2-22.1-14.8s-17.3-5.4-27-5.4-18.4,1.8-26.8,5.4-15.8,8.5-22.1,14.8c-6.3,6.3-11.2,13.6-14.8,21.9S0,115.6,0,125.3v125h27.5v-55.5h41.7c9.7,0,18.7-1.8,27-5.4,8.3-3.6,15.7-8.6,22.1-15s11.4-13.8,15-22.2c3.6-8.4,5.4-17.4,5.4-26.8s-1.8-18.7-5.4-27c-3.7-8.5-8.7-15.7-15.1-22Z M258.9,124.7c0,5.8-1.1,11.2-3.2,16.4-2.2,5.1-5.1,9.6-8.9,13.4s-8.3,6.8-13.4,9c-5.2,2.2-10.6,3.2-16.4,3.2s-11.2-1.1-16.2-3.2c-5-2.2-9.5-5.1-13.3-9-3.8-3.8-6.8-8.3-8.9-13.4-2.2-5.1-3.2-10.6-3.2-16.4V55.5h-27.5v69.1c0,9.5,1.8,18.4,5.4,26.8,3.6,8.4,8.5,15.8,14.8,22.2s13.6,11.4,22.1,15c8.4,3.6,17.4,5.4,26.8,5.4s18.7-1.8,27-5.4c8.3-3.6,15.7-8.6,22.1-15s11.4-13.8,15-22.2,5.4-17.4,5.4-26.8V55.5h-27.5v69.2h-.1Z M294.7,0h27.5v194.1h-27.5z M332.6,0h27.5v194.1h-27.5z M488.8,76.5c-6.8-6.8-14.5-11.9-23-15.3s-17.2-5.1-26.1-5.1-17.5,1.7-26.1,5.1c-8.5,3.4-16.2,8.5-23,15.3s-11.8,14.4-15.1,22.8c-3.3,8.4-4.9,17.1-4.9,25.9s1.6,17.5,4.9,26.1c3.3,8.5,8.3,16.2,15.1,23,6.6,6.6,14.1,11.6,22.5,15.1s17.3,5.2,26.5,5.2,18.1-1.8,26.5-5.2c8.4-3.5,15.9-8.5,22.5-15.1l9.6-9.6-19.4-19.4-9.6,9.6c-6.6,6.6-14.2,10.5-23,11.9-8.7,1.3-17,.1-24.8-3.9l76.8-76.8-9.4-9.6h0Z M619,55.5h-41.7c-9.5,0-18.4,1.8-26.8,5.4-8.4,3.6-15.8,8.5-22.2,14.8s-11.4,13.6-15,21.9c-3.6,8.3-5.4,17.3-5.4,27s1.8,18.4,5.4,26.8c3.6,8.4,8.6,15.8,15,22.2s13.8,11.4,22.2,15,17.4,5.4,26.8,5.4,18.4-1.8,26.8-5.4c8.4-3.6,15.8-8.6,22.1-15s11.2-13.8,14.8-22.2,5.4-17.4,5.4-26.8V0h-27.4v55.5h0Z M656.3,55.5h27.2v138.6h-27.2z M825.6,98c-3.6-8.3-8.6-15.6-15-21.9s-13.7-11.2-22.1-14.8c-8.3-3.6-17.3-5.4-27-5.4s-18.4,1.8-26.8,5.4c-8.4,3.6-15.8,8.5-22.1,14.8-6.3,6.3-11.2,13.6-14.8,21.9s-5.4,17.3-5.4,27v69.4h27.5v-69.4c0-5.8,1.1-11.2,3.2-16.2,2.2-5,5.1-9.5,8.9-13.3,3.8-3.8,8.2-6.8,13.3-9,5-2.2,10.4-3.2,16.2-3.2s11.2,1.1,16.4,3.2c5.1,2.2,9.6,5.2,13.4,9,3.8,3.8,6.8,8.2,8.9,13.3s3.2,10.4,3.2,16.2v69.4h27.6v-69.4c0-9.7-1.8-18.7-5.4-27h0Z M855,125.2l81.1,125.1h60L915.4,125.2,997.1.1h-61L855,125.2z"></path>
            </svg>
        </a>
    </div>
    <div class="menu-overlay-panel menu-right">
        <ul class="menu-nav-overlay">
            <li><a href="/">Home</a></li>
            <li><a href="/services/">Services</a></li>
            <li><a href="/journal/">Journal</a></li>
            <li><a href="/about/">About</a></li>
            <li><a href="/contact/">Contact</a></li>
        </ul>
    </div>
</div>

<style>
/* All of your existing header and menu styles are correct and stay here */
.site-header { position: fixed; /* ... */ }
.menu-toggle-btn { opacity: 0; /* Important: Starts hidden and is faded in by the global script */ }
---
// This is a special version of the header with NO SCRIPT.
// It is used only on pages with ScrollSmoother to prevent conflicts.
---
<header class="site-header">
    <a href="/" class="header-logo" style="text-decoration: none; color: inherit;">
        <span class="logo-name">PULLEDIN</span>
        <div class="logo-year-wrapper">
            <span class="logo-year logo-year--default">© 2025</span>
            <span class="logo-year logo-year--hover">EST. 2008</span>
        </div>
    </a>
</header>
<div class="menu-toggle-btn">
    <span class="menu-text">MENU</span>
</div>
<div class="menu-overlay">
    <div class="menu-overlay-panel menu-left">
        <a href="/" class="menu-logo-container">
            <svg viewBox="0 0 1000 250">
                <path class="pulledin-logo-path" d="M118.2,76.4c-6.4-6.3-13.7-11.2-22.1-14.8s-17.3-5.4-27-5.4-18.4,1.8-26.8,5.4-15.8,8.5-22.1,14.8c-6.3,6.3-11.2,13.6-14.8,21.9S0,115.6,0,125.3v125h27.5v-55.5h41.7c9.7,0,18.7-1.8,27-5.4,8.3-3.6,15.7-8.6,22.1-15s11.4-13.8,15-22.2c3.6-8.4,5.4-17.4,5.4-26.8s-1.8-18.7-5.4-27c-3.7-8.5-8.7-15.7-15.1-22Z M258.9,124.7c0,5.8-1.1,11.2-3.2,16.4-2.2,5.1-5.1,9.6-8.9,13.4s-8.3,6.8-13.4,9c-5.2,2.2-10.6,3.2-16.4,3.2s-11.2-1.1-16.2-3.2c-5-2.2-9.5-5.1-13.3-9-3.8-3.8-6.8-8.3-8.9-13.4-2.2-5.1-3.2-10.6-3.2-16.4V55.5h-27.5v69.1c0,9.5,1.8,18.4,5.4,26.8,3.6,8.4,8.5,15.8,14.8,22.2s13.6,11.4,22.1,15c8.4,3.6,17.4,5.4,26.8,5.4s18.7-1.8,27-5.4c8.3-3.6,15.7-8.6,22.1-15s11.4-13.8,15-22.2,5.4-17.4,5.4-26.8V55.5h-27.5v69.2h-.1Z M294.7,0h27.5v194.1h-27.5z M332.6,0h27.5v194.1h-27.5z M488.8,76.5c-6.8-6.8-14.5-11.9-23-15.3s-17.2-5.1-26.1-5.1-17.5,1.7-26.1,5.1c-8.5,3.4-16.2,8.5-23,15.3s-11.8,14.4-15.1,22.8c-3.3,8.4-4.9,17.1-4.9,25.9s1.6,17.5,4.9,26.1c3.3,8.5,8.3,16.2,15.1,23,6.6,6.6,14.1,11.6,22.5,15.1s17.3,5.2,26.5,5.2,18.1-1.8,26.5-5.2c8.4-3.5,15.9-8.5,22.5-15.1l9.6-9.6-19.4-19.4-9.6,9.6c-6.6,6.6-14.2,10.5-23,11.9-8.7,1.3-17,.1-24.8-3.9l76.8-76.8-9.4-9.6h0Z M619,55.5h-41.7c-9.5,0-18.4,1.8-26.8,5.4-8.4,3.6-15.8,8.5-22.2,14.8s-11.4,13.6-15,21.9c-3.6,8.3-5.4,17.3-5.4,27s1.8,18.4,5.4,26.8c3.6,8.4,8.6,15.8,15,22.2s13.8,11.4,22.2,15,17.4,5.4,26.8,5.4,18.4-1.8,26.8-5.4c8.4-3.6,15.8-8.6,22.1-15s11.2-13.8,14.8-22.2,5.4-17.4,5.4-26.8V0h-27.4v55.5h0Z M656.3,55.5h27.2v138.6h-27.2z M825.6,98c-3.6-8.3-8.6-15.6-15-21.9s-13.7-11.2-22.1-14.8c-8.3-3.6-17.3-5.4-27-5.4s-18.4,1.8-26.8,5.4c-8.4,3.6-15.8,8.5-22.1,14.8-6.3,6.3-11.2,13.6-14.8,21.9s-5.4,17.3-5.4,27v69.4h27.5v-69.4c0-5.8,1.1-11.2,3.2-16.2,2.2-5,5.1-9.5,8.9-13.3,3.8-3.8,8.2-6.8,13.3-9,5-2.2,10.4-3.2,16.2-3.2s11.2,1.1,16.4,3.2c5.1,2.2,9.6,5.2,13.4,9,3.8,3.8,6.8,8.2,8.9,13.3s3.2,10.4,3.2,16.2v69.4h27.6v-69.4c0-9.7-1.8-18.7-5.4-27h0Z M855,125.2l81.1,125.1h60L915.4,125.2,997.1.1h-61L855,125.2z"></path>
            </svg>
        </a>
    </div>
    <div class="menu-overlay-panel menu-right">
        <ul class="menu-nav-overlay">
            <li><a href="/">Home</a></li>
            <li><a href="/services/">Services</a></li>
            <li><a href="/work/">Work</a></li>
            <li><a href="/about/">About</a></li>
            <li><a href="/contact/">Contact</a></li>
        </ul>
    </div>
</div>

<style>
/* All of your existing header and menu styles are correct and stay here */
.site-header { position: fixed; /* ... */ }
.menu-toggle-btn { opacity: 0; /* Important: Starts hidden and is faded in by the global script */ }
/* ... etc ... *//* All the styles required for the header and menu are now inside the component */
.site-header {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    padding: 1.5rem 2rem;
    z-index: 999;
    display: flex;
    justify-content: space-between;
    align-items: center;
    color: var(--primary);
}

.header-logo {
    display: flex;
    cursor: pointer;
    color: inherit;
    text-decoration: none;
    font-size: 0.8rem;
    font-weight: 600;
}

.logo-year-wrapper {
    position: relative;
    width: 60px;
    margin-left: 0.5rem;
}

.logo-year {
    position: absolute;
    left: 0;
    transition: opacity 0.4s ease;
}

.logo-year--hover {
    opacity: 0;
}

.header-logo:hover .logo-year--default {
    opacity: 0;
}

.header-logo:hover .logo-year--hover {
    opacity: 1;
}



.menu-toggle-btn {
    position: fixed;
    top: 1.5rem;
    right: 2rem;
    z-index: 10001;
    cursor: pointer;
    font-size: 0.8rem;
    font-weight: 600;
    color: var(--white);
    mix-blend-mode: difference;
    /* CORRECTED: The button should start hidden */
    opacity: 0; 
}

.menu-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    visibility: hidden;
    z-index: 10000;
    display: flex;
    flex-direction: row;
}

.menu-overlay-panel {
    width: 50vw;
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
}

.menu-left {
    background-color: var(--card-bg);
}

.menu-right {
    background-color: var(--primary);
}

.menu-logo-container {
    width: 200px;
    height: 200px;
    cursor: pointer;
    filter: url(#ripple-filter); /* Relies on SVG filter in main page body */
    text-decoration: none;
}

.menu-logo-container svg {
    width: 100%;
    height: 100%;
}

.menu-logo-container .pulledin-logo-path {
    fill: var(--primary);
    stroke: var(--primary);
    stroke-width: 8;
}

.menu-nav-overlay {
    list-style: none;
    padding: 0;
    margin: 0;
    text-align: left;
}

.menu-nav-overlay li {
    font-family: 'Poppins', sans-serif;
    font-size: clamp(2.5rem, 6vw, 4rem);
    font-weight: 600;
    line-height: 1.3;
    opacity: 0;
    transform: translateY(20px);
    will-change: transform;
}

.menu-nav-overlay a {
    color: var(--background);
    text-decoration: none;
    display: inline-block;
}

@media (max-width: 900px) {
    .menu-overlay {
        flex-direction: column;
    }
    .menu-overlay-panel {
        width: 100vw;
        height: 50vh;
    }
}
</style>
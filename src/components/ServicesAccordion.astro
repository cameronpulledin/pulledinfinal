---
// Component for the Services Accordion section
import { Image } from 'astro:assets';

// CORRECTED: Added all the missing image imports for this component
import tedImage from '../assets/images/Events/ted30/1.jpg';
import vrargsImage from '../assets/images/Events/vrargs2019/5.jpg';
import igsImage1 from '../assets/images/Events/igs1/serv1.png';
import tedImage33 from '../assets/images/events/TED30/33.jpg';
import igsImage33 from '../assets/images/Events/igs1/igs33.jpeg';
import igsImage9 from '../assets/images/Events/igs1/9.jpg';
import sponsorwallImage from '../assets/images/Events/sponsors/sponsorwall.png';
---

<style>
    .services-container {
        padding: 8rem 2rem 12rem;
        max-width: 1200px;
        margin: 0 auto;
        background-color: var(--background);
        position: relative;
        z-index: 2;
    }
    .service-item {
        padding: 2.5rem 0;
        border-bottom: 1px solid rgba(0,0,0,0.2);
        cursor: pointer;
    }
    .service-item-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: 2rem;
    }
    .service-item-title {
        font-family: var(--font-headline);
        font-size: clamp(2rem, 5vw, 3.5rem);
        line-height: 1.1;
        flex-grow: 1;
    }
    .service-item-icon {
        font-family: var(--font-inconsolata);
        font-size: 2rem;
        transition: transform 0.5s ease;
    }
    .service-item.is-open .service-item-icon {
        transform: rotate(45deg);
    }
    .service-item-content {
        overflow: hidden;
        display: none;
    }
    .service-item.is-open .service-item-content {
        display: block;
    }
    .service-item-content-inner {
        padding: 3rem 0 1rem;
    }
    .service-image-container {
        display: flex;
        align-items: center;
        justify-content: center;
        margin-bottom: 2.5rem;
    }
    .service-image {
        width: 100%;
        max-width: 450px;
        aspect-ratio: 4 / 5;
        overflow: hidden;
    }
    .service-image :global(img) {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }
    .service-image-meta {
        font-family: var(--font-space-mono);
        font-size: 12px;
        text-transform: uppercase;
        writing-mode: vertical-rl;
        padding: 1rem;
        letter-spacing: 0.1em;
        opacity: 0.6;
    }
    .meta-left { transform: rotate(180deg); }
    .service-description {
        max-width: 700px;
        margin: 0 auto;
        text-align: center;
    }
    .service-description h3 {
        font-family: var(--font-headline);
        font-size: 1.75rem;
        margin-bottom: 1rem;
    }
    .service-description p {
        font-size: 1.2rem;
        line-height: 1.7;
        margin-bottom: 1rem;
    }
</style>

<div class="services-container">
    <div class="service-item">
        <div class="service-item-header">
            <span class="service-item-title">Executive Production & Curation</span>
            <span class="service-item-icon">+</span>
        </div>
        <div class="service-item-content">
            <div class="service-item-content-inner">
                <div class="service-image-container">
                    <div class="service-image-meta meta-left"><span>Production</span></div>
                    <div class="service-image"><Image src={tedImage} alt="Executive Production"/></div>
                    <div class="service-image-meta meta-right"><span>PULLEDIN 2025</span></div>
                </div>
                <div class="service-description">
                    <h3>We build icons.</h3>
                    <p>We serve as your high-level strategic partners, embedding with your leadership to shape the event's core vision. This goes beyond management to include narrative development, curating world-class speakers and content, and guiding the project's soul from the first concept meeting to the final standing ovation. We handle the complexity so you can focus on the message.</p>
                </div>
            </div>
        </div>
    </div>
    <div class="service-item">
        <div class="service-item-header">
            <span class="service-item-title">Event Strategy & Format Design</span>
            <span class="service-item-icon">+</span>
        </div>
        <div class="service-item-content">
            <div class="service-item-content-inner">
                <div class="service-image-container">
                    <div class="service-image-meta meta-left"><span>Strategy</span></div>
                    <div class="service-image"><Image src={vrargsImage} alt="Event Strategy"/></div>
                    <div class="service-image-meta meta-right"><span>PULLEDIN 2025</span></div>
                </div>
                <div class="service-description">
                    <h3>Format is EVERYTHING.</h3>
                    <p>We work with you to design innovative and future-proof event formats that build culture and captivate your specific audience with an attention to market needs, event flow, content possibilities, and partnership growth opportunities. Whether you're looking to launch a new global summit, foster an intimate developer community, or revolutionize an industry conference, we define the 'why' and the 'how' to ensure your event is built to build a legacy.</p>
                </div>
            </div>
        </div>
    </div>
    <div class="service-item">
        <div class="service-item-header">
            <span class="service-item-title">Event Technology Consulting (AI & XR)</span>
            <span class="service-item-icon">+</span>
        </div>
        <div class="service-item-content">
            <div class="service-item-content-inner">
                <div class="service-image-container">
                    <div class="service-image-meta meta-left"><span>Technology</span></div>
                    <div class="service-image"><Image src={igsImage1} alt="Tech Consulting"/></div>
                    <div class="service-image-meta meta-right"><span>PULLEDIN 2025</span></div>
                </div>
                <div class="service-description">
                    <h3>We are fluent in the language of the future.</h3>
                    <p>Unlike producers who bolt on technology as an afterthought, we infuse AI and Extended Reality (XR) into the very fabric of your event. We’ve been producing the world’s most important XR events for a while so we aren’t guessing - we are world-renowned experts in the space. With AI-aided production we can efficiently accelerate, iterate, and grow events. We share our professional knowledge through global speaking engagements and consulting production teams in person. Don’t get stressed - get ready to accelerate and elevate in ways that will inspire you to produce more!</p>
                </div>
            </div>
        </div>
    </div>
    <div class="service-item">
        <div class="service-item-header">
            <span class="service-item-title">Speaker & Content Programming</span>
            <span class="service-item-icon">+</span>
        </div>
        <div class="service-item-content">
            <div class="service-item-content-inner">
                <div class="service-image-container">
                    <div class="service-image-meta meta-left"><span>Content</span></div>
                    <div class="service-image"><Image src={tedImage33} alt="Content Programming"/></div>
                    <div class="service-image-meta meta-right"><span>PULLEDIN 2025</span></div>
                </div>
                <div class="service-description">
                    <h3>The heart of any great event is its content.</h3>
                    <p>With decades of experience working with global leaders, from Prime Ministers to Fortune 500 CEOs and tech pioneers, we have an unparalleled network. We manage the entire process of curating, securing, and onboarding speakers who will not only draw a crowd but deliver your message with authority and impact.</p>
                </div>
            </div>
        </div>
    </div>
    <div class="service-item">
        <div class="service-item-header">
            <span class="service-item-title">Virtual & Hybrid Event Production</span>
            <span class="service-item-icon">+</span>
        </div>
        <div class="service-item-content">
            <div class="service-item-content-inner">
                <div class="service-image-container">
                    <div class="service-image-meta meta-left"><span>Virtual</span></div>
                    <div class="service-image"><Image src={igsImage33} alt="Virtual Events"/></div>
                    <div class="service-image-meta meta-right"><span>PULLEDIN 2025</span></div>
                </div>
                <div class="service-description">
                    <h3>We are world-class experts in virtual experiences.</h3>
                    <p>Having pivoted a 2,500-person physical event into a 14,000-attendee global virtual summit in under three months, we understand the unique challenges of the digital stage. From multi-track conferences on Zoom to fully immersive events in VR, we keep teams focused, on-budget, and highly effective, no matter the platform.</p>
                </div>
            </div>
        </div>
    </div>
    <div class="service-item">
        <div class="service-item-header">
            <span class="service-item-title">Full-Scale Event Management</span>
            <span class="service-item-icon">+</span>
        </div>
        <div class="service-item-content">
            <div class="service-item-content-inner">
                <div class="service-image-container">
                    <div class="service-image-meta meta-left"><span>Management</span></div>
                    <div class="service-image"><Image src={igsImage9} alt="Event Management"/></div>
                    <div class="service-image-meta meta-right"><span>PULLEDIN 2025</span></div>
                </div>
                <div class="service-description">
                    <h3>This is our comprehensive, end-to-end solution.</h3>
                    <p>Ready to ditch those tedious "process-driven"/PMP-time-wasters and join the event production revolution with us? We get HUGE things done with a tiny team because we employ tech to quickly solve problems - we are definitely not like the rest and proud of it.  We take on the complete operational workload, managing every logistical detail with precision and agility. This includes vendor negotiation, platform management, marketing and community strategy, and on-site (or virtual) execution. We are the engine that ensures a flawless and stress-free experience for you and your attendees.</p>
                </div>
            </div>
        </div>
    </div>
    <div class="service-item">
        <div class="service-item-header">
            <span class="service-item-title">Partnerships</span>
            <span class="service-item-icon">+</span>
        </div>
        <div class="service-item-content">
            <div class="service-item-content-inner">
                <div class="service-image-container">
                    <div class="service-image-meta meta-left"><span>Partnerships</span></div>
                    <div class="service-image"><Image src={sponsorwallImage} alt="Partnerships"/></div>
                    <div class="service-image-meta meta-right"><span>PULLEDIN 2025</span></div>
                </div>
                <div class="service-description">
                    <h3>We have made thousands of partnerships come to life.</h3>
                    <p>Our approach is built on bringing incredible audiences that fit partner needs, so we are selective about what we can represent. Let’s talk.</p>
                </div>
            </div>
        </div>
    </div>
</div>

<script is:inline>
    document.addEventListener('DOMContentLoaded', function() {
        if (typeof gsap === 'undefined' || typeof Flip === 'undefined') { return; }

        const items = gsap.utils.toArray('.service-item');
        items.forEach(item => {
            item.addEventListener('click', () => {
                const state = Flip.getState(items);
                const isOpen = item.classList.contains('is-open');

                if (isOpen) {
                    item.classList.remove('is-open');
                } else {
                    items.forEach(i => i.classList.remove('is-open'));
                    item.classList.add('is-open');
                }

                Flip.from(state, {
                    duration: 0.8,
                    ease: "elastic.out(1, 0.75)",
                    onComplete: () => {
                        // Refresh ScrollTrigger if you are using ScrollSmoother
                        if (window.ScrollSmoother) {
                            window.ScrollSmoother.get().refresh();
                        }
                    }
                });
            });
        });
    });
</script>